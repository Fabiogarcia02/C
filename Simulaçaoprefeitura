#include <stdio.h>

int main() {
    float salario, somaSalario = 0, maiorSalario = 0;
    int filhos, somaFilhos = 0, pessoas = 0, abaixo1000 = 0;

    printf("ğŸ›ï¸ Bem-vindo Ã  Pesquisa Interativa da Prefeitura! ğŸ™ï¸\n");
    printf("ğŸ‘©â€ğŸ’¼ Vamos coletar dados sobre os moradores!\n");
    printf("ğŸ“Œ Digite um salÃ¡rio negativo para encerrar a pesquisa.\n\n");

    while (1) {
        printf("ğŸ’° Informe o salÃ¡rio do morador %d: R$ ", pessoas + 1);
        scanf("%f", &salario);

        if (salario < 0) {
            printf("ğŸ“‰ Fim da coleta de dados! ğŸ›‘\n\n");
            break;
        }

        printf("ğŸ‘¶ Quantos filhos esse morador tem? ");
        scanf("%d", &filhos);

        // Acumula dados
        somaSalario += salario;
        somaFilhos += filhos;
        pessoas++;

        if (salario > maiorSalario) {
            maiorSalario = salario;
        }

        if (salario <= 1000) {
            abaixo1000++;
        }

        printf("âœ… Dados do morador %d registrados com sucesso!\n\n", pessoas);
    }

    if (pessoas == 0) {
        printf("âš ï¸ Nenhum dado foi inserido. Tente novamente depois! ğŸ˜•\n");
        return 0;
    }

    float mediaSalario = somaSalario / pessoas;
    float mediaFilhos = (float)somaFilhos / pessoas;
    float percentualAbaixo1000 = ((float)abaixo1000 / pessoas) * 100;

    // Resultado final
    printf("ğŸ“Š RESULTADOS FINAIS DA PESQUISA ğŸ“Š\n");
    printf("ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Total de moradores entrevistados: %d\n", pessoas);
    printf("ğŸ’µ MÃ©dia salarial da populaÃ§Ã£o: R$ %.2f\n", mediaSalario);
    printf("ğŸ‘¶ MÃ©dia de filhos por morador: %.2f\n", mediaFilhos);
    printf("ğŸ’¸ Maior salÃ¡rio informado: R$ %.2f\n", maiorSalario);
    printf("ğŸ“‰ Percentual de pessoas com salÃ¡rio atÃ© R$1000,00: %.2f%%\n", percentualAbaixo1000);
    printf("ğŸ‰ Obrigado por participar da pesquisa! Sua cidade agradece! ğŸŒ†â¤ï¸\n");

    return 0;
}
