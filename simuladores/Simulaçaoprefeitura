#include <stdio.h>

int main() {
    float salario, somaSalario = 0, maiorSalario = 0;
    int filhos, somaFilhos = 0, pessoas = 0, abaixo1000 = 0;
    char continuar;

    printf("ðŸ›ï¸ Bem-vindo Ã  Pesquisa Interativa da Prefeitura! ðŸ™ï¸\n");
    printf("ðŸ‘©â€ðŸ’¼ Vamos coletar dados sobre os moradores!\n");

    do {
        printf("\nðŸ’° Informe o salÃ¡rio do morador %d: R$ ", pessoas + 1);
        scanf("%f", &salario);

        printf("ðŸ‘¶ Quantos filhos esse morador tem? ");
        scanf("%d", &filhos);

        // Acumula dados
        somaSalario += salario;
        somaFilhos += filhos;
        pessoas++;

        if (salario > maiorSalario) {
            maiorSalario = salario;
        }

        if (salario <= 1000) {
            abaixo1000++;
        }

        printf("âœ… Dados do morador %d registrados com sucesso!\n", pessoas);

        // Pergunta se deseja continuar
        printf("â“ Deseja cadastrar outro morador? (S/N): ");
        scanf(" %c", &continuar); // espaÃ§o antes do %c ignora enter

    } while (continuar == 'S' || continuar == 's');

    if (pessoas == 0) {
        printf("âš ï¸ Nenhum dado foi inserido. Tente novamente depois! ðŸ˜•\n");
        return 0;
    }

    float mediaSalario = somaSalario / pessoas;
    float mediaFilhos = (float)somaFilhos / pessoas;
    float percentualAbaixo1000 = ((float)abaixo1000 / pessoas) * 100;

    // Resultado final
    printf("\nðŸ“Š RESULTADOS FINAIS DA PESQUISA ðŸ“Š\n");
    printf("ðŸ‘¨â€ðŸ‘©â€ðŸ‘§ Total de moradores entrevistados: %d\n", pessoas);
    printf("ðŸ’µ MÃ©dia salarial da populaÃ§Ã£o: R$ %.2f\n", mediaSalario);
    printf("ðŸ‘¶ MÃ©dia de filhos por morador: %.2f\n", mediaFilhos);
    printf("ðŸ’¸ Maior salÃ¡rio informado: R$ %.2f\n", maiorSalario);
    printf("ðŸ“‰ Percentual de pessoas com salÃ¡rio atÃ© R$1000,00: %.2f%%\n", percentualAbaixo1000);
    printf("ðŸŽ‰ Obrigado por participar da pesquisa! Sua cidade agradece! ðŸŒ†â¤ï¸\n");

    return 0;
}
